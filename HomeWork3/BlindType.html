<meta charset="UTF-8">
<script>
    
    var levels = [[["а", "ф"]],
        [["ы", "в"]],
        [["о", "ж"]]];

    levels[0].push("Положите 4 пальца левой руки - мизинец, безымянный, средний и " +
        "указательный - на клавиши ф, ы, в, а. Запомните, что буква \"А\" находится под Вашим " +
        "указательным пальцем, а \"Ф\" под мизинцем.\nТеперь неспеша набирите текст.\n" +
        "Постарайтесь не смотреть на клавиатуру.");
    levels[1].push("Поставьте мизинец левой руки на букву \"Ф\", безымянный палец — на \"Ы\"," +
        " средний — на \"В\", указательный — на \"А\".\nМизинец правой руки на букву \"Ж\", безымянный " +
        "палец — на \"Д\", средний — на \"Л\", указательный — на \"О\".\n" +
        "Запомните расположение пальцев.\nПовторяйте за мной...");
    levels[2].push("Поставьте мизинец левой руки на букву \"Ф\", безымянный палец — на \"Ы\", " +
        "средний — на \"В\", указательный — на \"А\".\nМизинец правой руки на букву \"Ж\", безымянный " +
        "палец — на \"Д\", средний -— на \"Л\", указательный — на \"О\".\nЗапомните расположение пальцев\nПовторяйте за мной...");

    game(levels);

    function game(levels) {
        alert("Вас приветствует программа по обучению слепой печати");
        var length = 10;
        for (var i = 0; i < levels.length; i++) {
            alert("Вы перешли на " + (i+1) + " уровень!");
            oneLevelPlay(levels[i][0], length, levels[i][1]);
        }
        alert("Поздравляю!\nВы прошли игру!")
    }

    function oneLevelPlay(charSet, length, message) {
        while (true) {
            alert(message);
            var text = generateText(charSet, length);
            var userText = prompt("Повторите следующий текст:\n\n" + text);
            if (userText == text) {
                alert("Все верно!");
                return;
            } else {
                alert("Вы ошиблись( Попробуйте еще раз!");
            }
        }
    }

    function generateText(charSetArr, length) {
        var text = "";
        for (var i = 0; i < length; i++) {
            index = parseInt(Math.random() * (charSetArr.length));
            text += charSetArr[index];
        }
        return text;
    }

</script>