
<meta charset="UTF-8">
<script>

    var point;
    var riddlesArr = new Array();

    riddlesArr.push(["Как человеку не спать 8 дней?", ["спать ночью", "спать по ночам", "спать 8 ночей"]]);
    riddlesArr.push(["К реке подходят два человека. У берега лодка, которая " +
    "может выдержать только одного. Оба человека переправились " +
    "на противоположный берег. Как?", ["они были на разных берегах", "были на разных берегах",
        "подошли к реке с разных сторон", "они были с разных сторон", "подошли с разных берегов", "подошли с двух разных берегов",
        "подошли с двух берегов", "подошли с 2 берегов", "подошли с 2 разных берегов"]]);
    riddlesArr.push(["Если пять кошек ловят пять мышей за пять минут, " +
    "то сколько времени нужно одной кошке, чтобы поймать одну мышку?", ["5 минут", "пять минут", "1/12 часа", "5"]]);

    playGame(riddlesArr);

    /**
     * Функция самой игры
     *
     * @param {Array} riddlesArr - массив содержащий загадки и отгадки
     */
    function playGame(riddlesArr) {
        point = 0;
        for (var i = 0; i < riddlesArr.length; i++) {
            var answer = prompt("Загадка " + (i + 1) + ":\n" + riddlesArr[i][0]);

            var result = checkAnswer(riddlesArr, answer, i);
            sendMessage(result, riddlesArr, i);
        }
        congratulations(point);
    }

    /**
     * Функция проверки правильности ответа игрока
     * В случае правильного ответа - увеличивает счетчик очков на 1
     *
     * @param {Array} riddlesArr - Масив загадок
     * @param {String} answer - ответ игрока
     * @param {int} numberOfRiddle - номер загадки в массиве
     * @returns {boolean} - возвращает true если ответ верный, false - если нет
     */
    function checkAnswer(riddlesArr, answer, numberOfRiddle) {
        for (var i = 0; i < riddlesArr[numberOfRiddle][1].length; i++) {
            if (answer.toLowerCase() == riddlesArr[numberOfRiddle][1][i]) {
                point++;
                return true;
            }
        }
        return false;
    }

    /**
     * Выводи игроку сообщение о решении загадки
     *
     * @param {boolean} result - результат проверки решения загадки
     * @param {Array} riddlesArr - массив загадок
     * @param {int} numberOfRiddle - номер загадки в массиве
     */
    function sendMessage(result, riddlesArr, numberOfRiddle) {
        if (result) {
            alert("Вы отгадали!");
        } else {
            var rAns = "";
            for (var i = 0; i < riddlesArr[numberOfRiddle][1].length; i++) {
                rAns += (riddlesArr[numberOfRiddle][1][i] + "\n");
            }
            alert("Вы не отгадали( \n \n Правильный ответ: \n" + rAns);
        }
    }

    /**
     * Вывод сообщения с итогами игры
     * 
     * @param {int} point - количество набранных за игру очков
     */
    function congratulations(point) {
        if (point == riddlesArr.length) {
            alert("ПОЗДРАВЛЯЮ! \n\n Вы ответили правильно на все загадки!!! \n\n Восхитительно! Невероятно!");
        } else if (point == 0) {
            alert("К сожалению, вы не ответили ни на одну из этих дурацких загадок(");
        } else {
            var str = " загадок!";
            if (point == 1) {
                str = " загадку!";
            } else if (point == 2 || point == 3 || point == 4) {
                str = " загадки!"
            }
            alert("Хороший результат! \n\n Вы верно отгадали " + point + str);
        }
    }

</script>